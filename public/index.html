<!DOCTYPE html>
<html>

<head>
  <title>WebSocket Example</title>
</head>

<body>
  <h1>WebSocket Example</h1>

  <script>
    const iceConfiguration = {
      iceServers: [
        { urls: 'stun:stun.l.google.com:19302' },
        { urls: 'stun:stun1.l.google.com:19302' },
        { urls: 'stun:stun2.l.google.com:19302' },
        { urls: 'stun:stun3.l.google.com:19302' },
        { urls: 'stun:stun4.l.google.com:19302' }
      ]
    };

    function connectWebSocket() {
      const socket = new WebSocket('wss://magic-websocket.onrender.com');

      socket.addEventListener('open', (event) => {
        console.log('Connected to the WebSocket server.');

        // Send a message
        socket.send('Hello, WebSocket!');
      });

      socket.addEventListener('message', (event) => {
        const message = event.data;

        // Parse the message
        const parsedMessage = JSON.parse(message);

        // Check if the message is from another user
        if (parsedMessage.sender !== socket.id) {
          console.log('Received message:', parsedMessage.message);
        }
      });

      socket.addEventListener('close', (event) => {
        console.log('Disconnected from the WebSocket server.');
      });

      return socket;
    }

    function initialize() {
      
    }

    initialize();
    const socket = connectWebSocket();
  </script>
</body>

</html>
